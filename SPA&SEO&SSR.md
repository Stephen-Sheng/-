# SPA & SEO & SSR的联系

## SPA

### 优点
- 页面之间的切换非常快
- 一定程度上减少了后端服务器的压力（不用管页面逻辑和渲染）
- 后端程序只需要提供API，完全不用管客户端到底是Web界面还是手机等

### 缺点
- 首屏打开速度很慢，因为用户首次加载需要先下载SPA框架及应用程序的代码，然后再渲染页面。
- 不利于SEO

## SEO

SEO（Search Engine Optimization），中文一般译作：搜索引擎优化。SEO是一种通过了解搜索引擎的运作规则（如何抓取网站页面，如何索引以及如何根据特定的关键字展现搜索结果排序等）来调整网站，以提高该网站在搜索引擎中某些关键词的搜索结果排名。
通过：标题、描述、关键字

### SEO与SPA之间的冲突

前面我们谈到的SPA不利于SEO，因为就目前而言，部分搜索引擎如Google、bing等，它们的爬虫虽然已经支持执行JS甚至是通过AJAX获取数据了，但是对于异步数据的支持也还不足(也可能是搜索引擎提供商觉得没必要)，Vue SSR中是这样说的：
如果你的应用程序初始展示 loading 菊花图，然后通过 Ajax 获取内容，抓取工具并不会等待异步完成后再行抓取页面内容。
那如何才能正常使用SPA而又不影响SEO呢？使用SSR

## SSR

SSR是 Server-Side Rendering(服务器端渲染)的缩写，在普通的SPA中，一般是将框架及网站页面代码发送到浏览器，然后在浏览器中生成和操作DOM（这里也是第一次访问SPA网站在同等带宽及网络延迟下比传统的在后端生成HTML发送到浏览器要更慢的主要原因），但其实也可以将SPA应用打包到服务器上，在服务器上渲染出HTML，发送到浏览器，这样的HTML页面还不具备交互能力，所以还需要与SPA框架配合，在浏览器上“混合”成可交互的应用程序。所以，只要能合理地运用SSR技术，不仅能一定程度上解决首屏慢的问题，还能获得更好的SEO。

### 优点
- 更快的响应时间，不用等待所有的JS都下载完成，浏览器便能显示比较完整的页面了。
- 更好的SEO，我们可以将SEO的关键信息直接在后台就渲染成HTML，而保证搜索引擎的爬虫都能爬取到关键数据。
### 缺点
- 相对于仅仅需要提供静态文件的服务器，SSR中使用的渲染程序自然会占用更多的CPU和内存资源
- 一些常用的浏览器API可能无法正常使用，比如window、docment和alert等，如果使用的话需要对运行的环境加以判断
- 增加了代码的复杂度，某些代码操作需要区分运行环境

### 传统前后端不分离与现代SSR有何区别

传统的 SSR 和 现代的 SSR 区别，涉及到多个层面：

1. 技术方案
传统的 SSR 主要以 JSP、PHP、ASP 为驱动
现代的 SSR 主要以 Node.js + 前端框架 为驱动

2. 开发模式
传统的 SSR 以后端为主导，采用前后端混合的方式，开发维护麻烦（这个时期的服务器上面有模板、有读取数据的后端代码，还夹杂着很多js的代码。）
现代的 SSR 以前端为主导，采用前后端分离的方式，开发维护方便

3. 渲染方式
传统的 SSR 实际上就是多页应用，页面都是刷新跳转，体验较差
现在的 SSR 实际上叫同构应用，首屏访问服务端直出，之后内容被客户端接管为一个单页应用，体验更好
