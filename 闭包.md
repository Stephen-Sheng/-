# 闭包

## 什么是闭包？
由于在JS中，变量的作用域属于函数作用域，在函数执行后作用域就会被清理、内存也随之被收回，但是闭包时建立在一个函数内部的子函数，由于其可访问上级作用域的原因，即使上级函数执行完，该作用域也不会随之销毁，这时的子函数---也就是闭包，便拥有了访问上级作用域中的变量的权限，即使上级函数执行完后，作用域内的值也不会被销毁，而是常驻内存。

## 闭包解决了什么问题？
阮一峰在他的博客中写到：在本质上，闭包就是将函数内部和函数外部连接起来的一座桥梁。

闭包最大的用处有两个：

- 一个是可以读取函数内部的变量；
- 另一个就是让这些变量的值始终保存在内存中。

## 闭包的应用场景
- 借助IIFE，小范围代替全局变量
- 维护一个私有变量并提供其访问方法
- 拿到正确的值
- 节流、防抖

## 使用闭包应该注意什么
- 代码难以维护：闭包内部是可以上级作用域，而如果闭包又是异步执行的话，一定要清楚上级作用域都发生了什么，而这样就需要对代码的运行逻辑和JS运行机制相当了解才能弄明白究竟发生了什么。
- 由于闭包会使得函数中的变量都保存在内存中，内存消耗很大，所以不能滥用闭包，否则会造成网页的性能问题，在IE中可能导致内存泄漏。解决方法是，在退出函数之前，将不使用的局部变量全部删除。



